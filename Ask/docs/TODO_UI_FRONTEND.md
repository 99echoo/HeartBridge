# TODO: UI/프론트엔드

**담당 영역**: Streamlit UI, CSS, 디자인, 페이지 플로우

**마지막 업데이트**: 2025-11-01

---

## 📊 현재 상황

### ✅ 완료된 작업
- [x] 프로토타입 app.py 작성 (8페이지)
- [x] 페이지 전환 구조 구현
- [x] Session state 관리
- [x] 진행 바 구현 (1/7 → 7/7)
- [x] 마리 이미지 통합 (순차 사용: normal_1~4, Answer, in_bag)
- [x] **설문 구조 개편** (5개 섹션, 18개 질문)
  - [x] ① 기본 정보 (6개 질문)
  - [x] ② 성향 파악 (2개 질문)
  - [x] ③ 문제 행동 관련 (5개 질문)
  - [x] ④ 환경 정보 (3개 질문)
  - [x] ⑤ 사진 및 참고자료 (2개 질문)
- [x] **다양한 입력 타입 구현**
  - [x] text (텍스트 입력)
  - [x] radio (버튼형 라디오, 세로)
  - [x] radio_horizontal (가로 나열)
  - [x] checkbox (단일 체크박스)
  - [x] checkbox_multiple (복수 선택 버튼)
  - [x] checkbox_grid (체크박스 세로 나열)
  - [x] image (이미지 업로드)
  - [x] media (사진/영상 업로드)
- [x] **랜딩 페이지 디자인 적용**
  - [x] 산호색 테마 (#E8826B)
  - [x] 흰색 배경 고정 (다크모드 비활성화)
  - [x] 커스텀 타이포그래피
  - [x] 마리 이미지 중앙 정렬
- [x] **네비게이션 버튼 스타일링**
  - [x] 산호색 배경 (#E8826B)
  - [x] 흰색 텍스트
  - [x] 그림자 효과 (box-shadow)
  - [x] 호버 애니메이션
- [x] **버튼 스타일 분리**
  - [x] 네비게이션 버튼: 산호색 배경 + 흰색 텍스트
  - [x] 질문 답변 버튼: 산호색 배경 + 검정색 텍스트
- [x] 이미지 업로드 페이지
- [x] AI 분석 중 페이지 (로딩)
- [x] 분석 결과 페이지 (Mock 데이터)

### 🔄 진행 중
- [ ] 프로토타입 테스트 및 피드백 수집
- [x] 디자인 시스템 적용 (인라인 CSS 완료)

---

## 🎨 Phase 1-1: 디자인 시스템 적용

### CSS 적용
- [x] **인라인 CSS를 app.py에 적용**
  - Streamlit의 `st.markdown()` + unsafe_allow_html 사용 ✅
  - 파일: `app.py:32-183` (전역 스타일)

- [x] **컴포넌트 스타일 적용**
  - [x] 버튼 스타일 (primary, secondary) ✅
    - 네비게이션 버튼: 산호색 배경 + 흰색 텍스트 + 그림자
    - 질문 답변 버튼: 산호색 배경 + 검정색 텍스트
    - Secondary 버튼: 회색 배경 + 테두리
  - [x] 입력 필드 스타일 ✅
    - 텍스트 입력 테두리 (2px solid #e0e0e0)
    - Placeholder 스타일링
    - Focus 효과
  - [ ] 카드 스타일 (설문 응답, 결과 카드)
  - [ ] 진행 바 커스터마이징

- [x] **타이포그래피**
  - [x] 랜딩 페이지 폰트 (56px, bold, 산호색) ✅
  - [x] 섹션 제목 크기 조정 (##, 진행바 상단) ✅
  - [x] 본문 텍스트 스타일링 ✅

### 레이아웃 개선
- [ ] **랜딩 페이지 (page_landing)**
  - [ ] 마리 이미지 크기 최적화
  - [ ] 서비스 소개 섹션 카드화
  - [ ] "시작하기" 버튼 강조

- [ ] **기본 정보 입력 (page_basic_info)**
  - [ ] 입력 필드 간격 조정
  - [ ] 라디오 버튼 스타일 개선
  - [ ] 진행 바 위치 고정

- [ ] **행동 분석 설문 (page_survey)**
  - [ ] 마리 질문 이미지 위치 조정
  - [ ] 질문 카드 스타일 적용
  - [ ] 응답 옵션 레이아웃 개선

- [ ] **이미지 업로드 (page_image_upload)**
  - [ ] 드래그 앤 드롭 영역 강조
  - [ ] 업로드된 이미지 미리보기 개선
  - [ ] 파일 정보 표시

- [ ] **AI 분석 중 (page_analyzing)**
  - [ ] 로딩 애니메이션 개선
  - [ ] 마리 이미지 애니메이션 추가
  - [ ] 진행 상황 텍스트 스타일

- [ ] **분석 결과 (page_result)**
  - [ ] 결과 카드 레이아웃
  - [ ] 액션 플랜 아코디언 스타일
  - [ ] 공유 버튼 디자인
  - [ ] 신뢰도 점수 시각화

---

## 🎯 Phase 1-2: 기능 개선

### 사용자 경험 (UX)
- [ ] **페이지 전환 애니메이션**
  - Streamlit 제약으로 제한적이지만 fade-in 효과 고려

- [ ] **입력 검증 강화**
  - [ ] 이메일 형식 검증 (정규식)
  - [ ] 강아지 이름 길이 제한 (2-20자)
  - [ ] 이미지 파일 크기 제한 (5MB)
  - [ ] 이미지 파일 형식 검증 (JPG, PNG만)

- [ ] **에러 핸들링**
  - [ ] 친근한 에러 메시지
  - [ ] 에러 발생 시 가이드 제공
  - [ ] 이미지 로드 실패 시 대체 텍스트

- [ ] **접근성 (Accessibility)**
  - [ ] 대체 텍스트 추가
  - [ ] 키보드 네비게이션 확인
  - [ ] 색상 대비 확인 (WCAG 기준)

### 반응형 디자인
- [ ] **모바일 최적화**
  - [ ] 페이지 레이아웃 조정
  - [ ] 버튼 크기 터치 친화적으로
  - [ ] 이미지 크기 반응형
  - [ ] 텍스트 크기 조정

- [ ] **태블릿 최적화**
  - 컬럼 레이아웃 조정

---

## 🔧 Phase 1-3: 성능 최적화

### 로딩 속도
- [ ] **이미지 최적화**
  - [ ] 마리 이미지 파일 크기 압축
  - [ ] WebP 포맷 고려
  - [ ] Lazy loading 적용

- [ ] **CSS 최적화**
  - [ ] 미사용 CSS 제거
  - [ ] CSS 파일 압축

### 캐싱
- [ ] **Streamlit 캐싱 활용**
  - [ ] `@st.cache_data` for survey questions
  - [ ] `@st.cache_data` for mock data
  - [ ] `@st.cache_resource` for image loading

---

## 🧪 Phase 1-4: 테스트

### 수동 테스트
- [ ] **전체 플로우 테스트**
  - [ ] 랜딩 → 기본정보 → 설문 → 이미지 → 분석 → 결과
  - [ ] "이전" 버튼 테스트 (데이터 유지 확인)
  - [ ] "새로운 분석 시작" 테스트 (세션 초기화)

- [ ] **에지 케이스 테스트**
  - [ ] 빈 입력 제출
  - [ ] 잘못된 이미지 업로드
  - [ ] 매우 긴 강아지 이름
  - [ ] 특수문자 입력

- [ ] **브라우저 호환성**
  - [ ] Chrome
  - [ ] Safari
  - [ ] Edge
  - [ ] Firefox

- [ ] **디바이스 테스트**
  - [ ] Windows PC
  - [ ] Mac
  - [ ] iPhone
  - [ ] Android

### 자동화 테스트 (선택)
- [ ] **Streamlit 테스트**
  - pytest + streamlit testing framework
  - 페이지 렌더링 확인

---

## 📦 Phase 1-5: 컴포넌트 모듈화

### 공통 컴포넌트 분리
- [ ] **`src/components/` 디렉토리 생성**

- [ ] **progress_bar.py**
  - `show_progress_bar()` 함수 분리

- [ ] **mari_image.py**
  - `load_mari_image()` 함수 분리
  - 이미지 캐싱 로직 추가

- [ ] **navigation.py**
  - `next_page()`, `prev_page()` 함수
  - 네비게이션 버튼 컴포넌트

- [ ] **cards.py**
  - 결과 카드 컴포넌트
  - 설문 카드 컴포넌트

- [ ] **app.py 리팩토링**
  - 모듈화된 컴포넌트 임포트
  - 코드 중복 제거

---

## 🎨 Phase 1-6: 추가 UI 기능

### 마리 마스코트 활용
- [ ] **다양한 마리 이미지 활용**
  - 현재: normal_1, Question, in_bag
  - 추가 가능: normal_2, normal_3, normal_4

- [ ] **페이지별 마리 표정**
  - 랜딩: 일반 마리
  - 설문: 질문 마리
  - 분석 중: 가방 속 마리
  - 결과: 기쁜 마리 (normal_2?)

### 인터랙티브 요소
- [ ] **툴팁 추가**
  - 설문 질문에 도움말 추가
  - 용어 설명

- [ ] **프로그레스 애니메이션**
  - 분석 중 페이지 애니메이션 강화
  - 로딩 텍스트 순환

---

## 🚀 우선순위

### 🔥 긴급 (이번 주)
1. 프로토타입 테스트 및 피드백 수집
2. CSS 적용 (custom.css 연결)
3. 기본 레이아웃 개선

### ⚡ 중요 (다음 주)
1. 입력 검증 강화
2. 에러 핸들링 개선
3. 모바일 반응형 디자인

### 📌 보통 (여유 있을 때)
1. 컴포넌트 모듈화
2. 자동화 테스트
3. 성능 최적화

---

## 📝 메모

### 디자인 결정사항
- **색상**: #F4A460 (primary), #F5E6D3 (secondary)
- **스타일**: 친근하고 따뜻한 느낌
- **마스코트**: 마리 적극 활용

### Streamlit 제약사항
- CSS 적용이 제한적 (클래스명 동적 생성)
- 페이지 전환 애니메이션 어려움
- 커스텀 컴포넌트 복잡함

### 해결 방법
- `st.markdown()` + unsafe_allow_html로 CSS 적용
- Session state로 데이터 유지
- 기본 컴포넌트 최대 활용

---

## ✅ 완료 기준

UI 작업은 다음 조건을 만족하면 완료:

- [ ] 프로토타입이 모든 브라우저/디바이스에서 작동
- [ ] 따뜻한 오렌지/베이지 디자인 시스템 적용
- [ ] 모든 페이지가 모바일에서 정상 작동
- [ ] 입력 검증 및 에러 메시지 완비
- [ ] 사용자 테스트 통과 (5명 이상)
- [ ] 피드백 반영 완료

→ 완료 시 [TODO_AI_BACKEND.md](TODO_AI_BACKEND.md)로 이동

---

**다음 작업**: `custom.css`를 `app.py`에 연결하고 기본 스타일 적용
