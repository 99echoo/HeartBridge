# HeartBridge Ask - 실행 가이드

## 🚀 빠른 시작

### 1. 환경 설정 (최초 1회만)

```bash
# Ask 디렉토리로 이동
cd Ask

# 가상환경 생성 (Windows)
python -m venv venv

# 가상환경 활성화
venv\Scripts\activate

# 패키지 설치
pip install -r requirements.txt
```

### 2. 앱 실행

```bash
# Ask 디렉토리에서 실행
streamlit run app.py
```

브라우저가 자동으로 열리며 `http://localhost:8501`에서 앱을 확인할 수 있습니다.

---

## 📋 프로토타입 기능 체크리스트

### ✅ 구현된 기능

- [x] **6페이지 전환**
  - 페이지 1: 랜딩 (서비스 소개)
  - 페이지 2: 기본 정보 입력 (이름, 이메일, 나이, 크기)
  - 페이지 3: 행동 분석 설문 (7개 질문)
  - 페이지 4: 이미지 업로드
  - 페이지 5: AI 분석 중 (로딩)
  - 페이지 6: 분석 결과 (Mock 데이터)

- [x] **마리 마스코트 이미지**
  - 랜딩 페이지: Mari_image_normal_1.png
  - 설문 페이지: Mari_image_Question.png
  - 분석 중 페이지: Mari_image_in_bag.png

- [x] **진행 바**
  - 각 페이지마다 진행률 표시 (20% → 100%)

- [x] **Mock 데이터 연동**
  - 설문 응답에 따라 적절한 분석 결과 표시

- [x] **세션 관리**
  - 페이지 간 데이터 유지
  - 새로운 분석 시작 시 초기화

### 🔜 다음 단계 (아직 미구현)

- [ ] 커스텀 CSS 적용 (따뜻한 오렌지/베이지 색상)
- [ ] 입력 검증 강화
- [ ] 에러 핸들링 개선
- [ ] 인스타그램/이메일 공유 기능
- [ ] 애니메이션 효과

---

## 🧪 테스트 시나리오

### 시나리오 1: 정상 플로우
1. 랜딩 페이지에서 "시작하기" 클릭
2. 기본 정보 입력:
   - 이름: "마리"
   - 나이: 어린 강아지
   - 크기: 소형견
3. 설문 작성 (모든 질문에 답변)
4. 이미지 업로드
5. 분석 완료 후 결과 확인
6. "새로운 분석 시작" 클릭하여 초기화 확인

### 시나리오 2: 이전 버튼 테스트
1. 페이지 2에서 "이전" 클릭 → 랜딩으로 돌아가는지 확인
2. 페이지 3에서 "이전" 클릭 → 입력한 데이터 유지되는지 확인

### 시나리오 3: 에러 처리
1. 페이지 2에서 이름 입력 없이 "다음" 클릭 → 에러 메시지 확인
2. 페이지 4에서 이미지 업로드 없이 "분석 시작" 클릭 → 에러 메시지 확인

---

## 🐛 알려진 이슈

1. **이미지 경로 문제**: 마리 이미지가 표시되지 않을 경우
   - 현재 디렉토리가 `Ask/`인지 확인
   - `Ask/assets/images/` 폴더에 이미지 파일이 있는지 확인

2. **모듈 임포트 에러**: config, src 모듈을 찾을 수 없을 경우
   - `Ask/` 디렉토리에서 실행하는지 확인
   - `__init__.py` 파일들이 각 폴더에 있는지 확인

3. **Streamlit 재실행**: 페이지가 업데이트되지 않을 경우
   - 브라우저에서 `R` 키를 눌러 재실행
   - 또는 우측 상단 메뉴 → "Rerun" 클릭

---

## 📝 개발 팁

### 코드 수정 후 자동 리로드
Streamlit은 파일 변경을 감지하면 자동으로 "Rerun" 버튼을 표시합니다.
항상 Rerun을 클릭하여 최신 코드를 확인하세요.

### 디버깅
```python
# app.py에 다음 코드를 추가하면 세션 상태를 확인할 수 있습니다
st.sidebar.write("Debug Info")
st.sidebar.json(st.session_state)
```

### 페이지 강제 이동 (개발 시 유용)
```python
# 특정 페이지로 바로 이동하려면
st.session_state.page = 3  # 이미지 업로드 페이지로 이동
```

---

## ✅ 체크 포인트

프로토타입 테스트 후 다음 사항을 확인하세요:

- [ ] 모든 페이지가 정상적으로 전환되는가?
- [ ] 마리 이미지가 모든 페이지에서 표시되는가?
- [ ] 진행 바가 올바르게 표시되는가?
- [ ] 입력한 데이터가 페이지 간 유지되는가?
- [ ] 이전 버튼이 정상 작동하는가?
- [ ] Mock 분석 결과가 표시되는가?
- [ ] 새로운 분석 시작 시 초기화가 되는가?

---

## 🆘 문제 해결

### 가상환경이 활성화되지 않는 경우
```bash
# PowerShell 실행 정책 변경 (관리자 권한)
Set-ExecutionPolicy RemoteSigned

# 다시 활성화 시도
venv\Scripts\activate
```

### 패키지 설치 오류
```bash
# pip 업그레이드
python -m pip install --upgrade pip

# requirements.txt 재설치
pip install -r requirements.txt --force-reinstall
```

### Streamlit 포트 충돌
```bash
# 다른 포트로 실행
streamlit run app.py --server.port 8502
```

---

**다음 단계**: 프로토타입 테스트 후 피드백을 바탕으로 디자인을 개선하고 기능을 추가합니다!
